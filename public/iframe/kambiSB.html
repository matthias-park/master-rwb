<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  
<div id="KambiBC"></div>
<script>
function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,    
    function(m,key,value) {
      vars[key] = value;
    });
    return vars;
  }
  var params = getUrlVars();

  (function (global) {
      var CustomerSettings = function () {};
      CustomerSettings.prototype.getBalance = function (successFunc, failureFunc, $) {
          $.ajax({
              url: '<%= players_get_balance_path(raw: true) %>',
              success: function (response, responseType, xhr) {
                  successFunc(parseFloat(response));
              },
              error: function (xhr) {
                  failureFunc(xhr);
              }
          });
      };
      CustomerSettings.prototype.showEventStatistics = function (eventId, $) {
        window.open('https://s5.sir.sportradar.com/bnlbe/'+ params.locale +'/match/m' + eventId, '_blank');
      };
      global.customerSettings = new CustomerSettings();
      global.customerSettings.enableOddsFormatSelector = true;
  }(window));
  
  var _kc = {
    currency: 'EUR',
    locale: params.locale,
    market: 'BE',
    playerId: params.playerId,
    ticket: params.ticket,
    oddsFormat: 'decimal',
    streamingAllowedForPlayer: 'false',
    racingMode: 'false'
  };
  var s = document.createElement( 'script' );
  s.setAttribute( 'src', 'https://ctn-static.kambi.com/client/bnlbe/kambi-bootstrap.js?cb=' + new Date().getTime());
  document.body.appendChild( s );
</script>
</body>
</html>